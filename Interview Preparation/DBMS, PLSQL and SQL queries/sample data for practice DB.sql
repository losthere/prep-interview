-- https://www.techbeamers.com/sql-query-questions-answers-for-practice/

-- worker table
CREATE TABLE Worker (
	WORKER_ID INT NOT NULL,
	FIRST_NAME varchar2(255),
	LAST_NAME varchar2(255),
	SALARY INT,
	JOINING_DATE DATE,
	DEPARTMENT varchar2(255),
	PRIMARY KEY(worker_id)
);

INSERT INTO Worker (WORKER_ID, FIRST_NAME, LAST_NAME, SALARY, JOINING_DATE, DEPARTMENT) VALUES (1, 'Monika', 'Arora', 100000, TO_DATE('20/02/2014', 'dd/mm/yyyy'), 'HR');	
INSERT INTO Worker (WORKER_ID, FIRST_NAME, LAST_NAME, SALARY, JOINING_DATE, DEPARTMENT) VALUES (2, 'Niharika', 'Verma', 80000, TO_DATE('11/06/2014', 'dd/mm/yyyy'), 'Admin');
INSERT INTO Worker (WORKER_ID, FIRST_NAME, LAST_NAME, SALARY, JOINING_DATE, DEPARTMENT) VALUES (3, 'Vishal', 'Singhal', 300000, TO_DATE('20/02/2014', 'dd/mm/yyyy'), 'HR');		
INSERT INTO Worker (WORKER_ID, FIRST_NAME, LAST_NAME, SALARY, JOINING_DATE, DEPARTMENT) VALUES (4, 'Amitabh', 'Singh', 500000, TO_DATE('20/02/2014', 'dd/mm/yyyy'), 'Admin');		
INSERT INTO Worker (WORKER_ID, FIRST_NAME, LAST_NAME, SALARY, JOINING_DATE, DEPARTMENT) VALUES (5, 'Vivek', 'Bhati', 500000, TO_DATE('11/06/2014', 'dd/mm/yyyy'), 'Admin');		
INSERT INTO Worker (WORKER_ID, FIRST_NAME, LAST_NAME, SALARY, JOINING_DATE, DEPARTMENT) VALUES (6, 'Vipul', 'Diwan', 200000, TO_DATE('11/06/2014', 'dd/mm/yyyy'), 'Account');
INSERT INTO Worker (WORKER_ID, FIRST_NAME, LAST_NAME, SALARY, JOINING_DATE, DEPARTMENT) VALUES (7, 'Satish', 'Kumar', 75000, TO_DATE('20/01/2014', 'dd/mm/yyyy'), 'Account');
INSERT INTO Worker (WORKER_ID, FIRST_NAME, LAST_NAME, SALARY, JOINING_DATE, DEPARTMENT) VALUES (8, 'Geetika', 'Chauhan', 90000, TO_DATE('11/04/2014', 'dd/mm/yyyy'), 'Admin');

-- bonus table
CREATE TABLE Bonus (
	WORKER_REF_ID INT,
	BONUS_AMOUNT INT,
	BONUS_DATE DATE,
	FOREIGN KEY (WORKER_REF_ID) REFERENCES Worker(WORKER_ID)
        ON DELETE CASCADE
);

INSERT INTO Bonus (WORKER_REF_ID, BONUS_AMOUNT, BONUS_DATE) VALUES (1, 5000, TO_DATE('20-02-2016', 'dd/mm/yyyy'));
INSERT INTO Bonus (WORKER_REF_ID, BONUS_AMOUNT, BONUS_DATE) VALUES (2, 3000, TO_DATE('11-06-2016', 'dd/mm/yyyy'));
INSERT INTO Bonus (WORKER_REF_ID, BONUS_AMOUNT, BONUS_DATE) VALUES (3, 4000, TO_DATE('20-02-2016', 'dd/mm/yyyy'));
INSERT INTO Bonus (WORKER_REF_ID, BONUS_AMOUNT, BONUS_DATE) VALUES (1, 4500, TO_DATE('20-02-2016', 'dd/mm/yyyy'));
INSERT INTO Bonus (WORKER_REF_ID, BONUS_AMOUNT, BONUS_DATE) VALUES (2, 3500, TO_DATE('11-06-2016', 'dd/mm/yyyy'));

-- title table
CREATE TABLE Title (
	WORKER_REF_ID INT,
	WORKER_TITLE VARCHAR2(25),
	AFFECTED_FROM DATE,
	FOREIGN KEY (WORKER_REF_ID) REFERENCES Worker(WORKER_ID)
        ON DELETE CASCADE
);

INSERT INTO Title (WORKER_REF_ID, WORKER_TITLE, AFFECTED_FROM) VALUES (1, 'Manager', TO_DATE('20-02-2016', 'dd/mm/yyyy'));
INSERT INTO Title (WORKER_REF_ID, WORKER_TITLE, AFFECTED_FROM) VALUES (2, 'Executive', TO_DATE('11-06-2016', 'dd/mm/yyyy'));
INSERT INTO Title (WORKER_REF_ID, WORKER_TITLE, AFFECTED_FROM) VALUES (8, 'Executive', TO_DATE('11-06-2016', 'dd/mm/yyyy'));
INSERT INTO Title (WORKER_REF_ID, WORKER_TITLE, AFFECTED_FROM) VALUES (5, 'Manager', TO_DATE('11-06-2016', 'dd/mm/yyyy'));
INSERT INTO Title (WORKER_REF_ID, WORKER_TITLE, AFFECTED_FROM) VALUES (4, 'Asst. Manager', TO_DATE('11-06-2016', 'dd/mm/yyyy'));
INSERT INTO Title (WORKER_REF_ID, WORKER_TITLE, AFFECTED_FROM) VALUES (7, 'Executive', TO_DATE('11-06-2016', 'dd/mm/yyyy'));
INSERT INTO Title (WORKER_REF_ID, WORKER_TITLE, AFFECTED_FROM) VALUES (6, 'Lead', TO_DATE('11-06-2016', 'dd/mm/yyyy'));
INSERT INTO Title (WORKER_REF_ID, WORKER_TITLE, AFFECTED_FROM) VALUES (3, 'Lead', TO_DATE('11-06-2016', 'dd/mm/yyyy'));

